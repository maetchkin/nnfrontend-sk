<!DOCTYPE html>
<html>
  <head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

	<title>getUserMedia Demo</title>
	<style>
	  body
	  {
		max-width: 500px;
		margin: 2em auto;
		font-size: 20px;
	  }
 
	  h1
	  {
		text-align: center;
	  }
		  
	  .buttons-wrapper
	  {
		text-align: center;
	  }
 
	  .hidden
	  {
		display: none;
	  }
 
	  #video
	  {
		display: block;
		width: 100%;
	  }
 
	  .button-demo
	  {
		padding: 0.5em;
		display: inline-block;
		margin: 1em auto;
	  }
 
	  .author
	  {
		display: block;
		margin-top: 1em;
	  }
	</style>
	
  </head>
  <body>
	<h1>speechkit API</h1>
	<button id="recBut" onclick="recognize()">начать</button>
	<div id="recRes">
	</div>
	<script type="text/javascript" src="http://download.yandex.ru/webspeechkit/webspeechkit-1.0.0.js"></script>

	<script>
		
		ya.speechkit.settings = {
			model: 'freeform', // Model name for recognition process
			lang: 'ru-RU', //Language for recognition process
			apiKey: '9916cf26-2725-46f7-a6a6-430db1d09c39'
		};

		var rec = false,
			recBut = document.getElementById("recBut"),
			recRes = document.getElementById("recRes");
		
		function recognize() {
			if(!rec){
				recBut.innerHTML= "секундочку...";
				ya.speechkit.recognize({
					doneCallback: function(text) {
						recRes.innerHTML = text;
					},
					initCallback: function () {
						recBut.innerHTML= "Я вас внимательно, говорите";
					},
					errorCallback: function(err) {
						recBut.innerHTML= "Ошибочка";
					},
					model: 'freeform', // Model name for recognition process
					lang: 'ru-RU', //Language for recognition process
					apiKey: '9916cf26-2725-46f7-a6a6-430db1d09c39'
				});


				
			}else{
				recBut.innerHTML= "начать";
			}
			rec = !rec;
		}

		function _recognize() {
			
		}
	</script>

	
	

	
  </body>
</html>